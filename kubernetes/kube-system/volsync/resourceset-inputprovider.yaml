---
# yaml-language-server: $schema=https://raw.githubusercontent.com/controlplaneio-fluxcd/flux-operator/main/config/crd/bases/fluxcd.controlplane.io_resourcesetinputproviders.yaml
# Consolidated ResourceSetInputProvider for all VolSync backup/restore configurations
# Referenced by volsync-backups and volsync-pvcs ResourceSets in kube-system namespace
# All 21 apps are defined in a single nested array for easier management
# Fields with defaults (can be omitted if value matches):
#   - pvcSuffix: "config" (PVC name will be <app>-<pvcSuffix>)
#   - runAsUser: "1001"
#   - capacity: "1Gi"
#   - schedule: "0 7 * * *"
# To add a new app: add entry to the apps array below
# To remove an app: delete entry from the apps array below
apiVersion: fluxcd.controlplane.io/v1
kind: ResourceSetInputProvider
metadata:
  name: volsync-apps
  namespace: kube-system
  labels:
    volsync.backube/managed-by: resourceset
spec:
  type: Static
  defaultValues:
    defaults:
      runAsUser: "1001"
      capacity: "1Gi"
      schedule: "0 7 * * *"
      pvcSuffix: "config"
    apps:
      - app: audiobookshelf

      - app: continuwuity
        capacity: 5Gi

      - app: frigate
        runAsUser: "1000"

      - app: gatus
        namespace: "monitoring"
        runAsUser: "1000"

      - app: home-assistant
        runAsUser: "1000"
        capacity: 10Gi
      
      - app: jellyseerr
      
      - app: node-red
        pvcSuffix: "data"
        runAsUser: "1000"
        capacity: 1Gi
      
      - app: plex
        runAsUser: "1000"
        capacity: 35Gi
        cacheCapacity: 20Gi
        schedule: "30 7 * * *"
      
      - app: prowlarr
      
      - app: qbittorrent
      
      - app: qui
      
      - app: radarr
        capacity: 3Gi
      
      - app: readarr
        capacity: 4Gi
      
      - app: recyclarr
        capacity: 5Gi
      
      - app: sabnzbd
      
      - app: shelfmark
      

      
      - app: sonarr
        capacity: 2Gi
      
      - app: tautulli
      
      - app: unifi
        pvcSuffix: "data"
        runAsUser: "999"
        capacity: 2Gi
      
      - app: zwave2mqtt
      
      - app: minecraft-creative
        pvcSuffix: "datadir"
        runAsUser: "1000"
        capacity: 10Gi
      
      - app: minecraft-lobby
        pvcSuffix: "datadir"
        runAsUser: "1000"
        capacity: 3Gi
      
      - app: minecraft-survival
        pvcSuffix: "datadir"
        runAsUser: "1000"
        capacity: 8Gi
      
      - app: minecraft-survival2
        pvcSuffix: "datadir"
        runAsUser: "1000"
        capacity: 20Gi
        cacheCapacity: 12Gi
